{% extends 'base.html' %}
{% load static %}

{% block title %}{{ post.title }} - NAKLIYE NET Blog{% endblock %}
{% block description %}{{ post.meta_description|default:post.content|truncatewords:30 }}{% endblock %}
{% block keywords %}{{ post.meta_keywords }}{% endblock %}

{% block extra_head %}
<!-- Schema.org Article markup -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "{{ post.title }}",
  "datePublished": "{{ post.created_at|date:'c' }}",
  "dateModified": "{{ post.updated_at|date:'c' }}",
  "author": {
    "@type": "Organization",
    "name": "NAKLIYE NET"
  },
  "publisher": {
    "@type": "Organization",
    "name": "NAKLIYE NET",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ request.scheme }}://{{ request.get_host }}/static/logo.png"
    }
  },
  "description": "{{ post.meta_description|default:post.content|truncatewords:30 }}"
  {% if post.featured_image %},
  "image": "{{ request.scheme }}://{{ request.get_host }}{{ post.featured_image.url }}"
  {% endif %}
}
</script>
{% endblock %}

{% block content %}
<!-- Main Blog Container with Light Background -->
<div style="background: linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%); min-height: 100vh; padding: 3rem 0;">
    <div class="container">
        <div class="row">
            <div class="col-lg-9 mx-auto">
                <!-- Breadcrumb with better visibility -->
                <nav aria-label="breadcrumb" class="mb-4">
                    <ol class="breadcrumb" style="background: white; padding: 1rem 1.5rem; border-radius: 0.75rem; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);">
                        <li class="breadcrumb-item">
                            <a href="{% url 'website:index' %}" style="color: #0066FF; text-decoration: none; font-weight: 500;">
                                <i class="bi bi-house-door-fill me-1"></i>Ana Sayfa
                            </a>
                        </li>
                        <li class="breadcrumb-item">
                            <a href="{% url 'blog:list' %}" style="color: #0066FF; text-decoration: none; font-weight: 500;">Blog</a>
                        </li>
                        <li class="breadcrumb-item active" style="color: #6B7280; font-weight: 500;">{{ post.title|truncatewords:5 }}</li>
                    </ol>
                </nav>

                <!-- Article Card -->
                <article class="blog-post" style="background: white; border-radius: 1.5rem; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08); overflow: hidden;">
                    <!-- Header Section -->
                    <header style="background: linear-gradient(135deg, #0066FF 0%, #00D4FF 100%); color: white; padding: 3rem 3rem 2rem;">
                        <h1 style="font-size: 2.5rem; font-weight: 800; margin-bottom: 1rem; line-height: 1.2;">{{ post.title }}</h1>
                        <div style="display: flex; align-items: center; gap: 2rem; font-size: 0.95rem; opacity: 0.95;">
                            <div>
                                <i class="bi bi-calendar3"></i> {{ post.created_at|date:"d F Y, H:i" }}
                            </div>
                            <div>
                                <i class="bi bi-eye-fill"></i> {{ post.view_count }} görüntülenme
                            </div>
                        </div>
                    </header>

                    {% if post.featured_image %}
                    <div style="margin: 0;">
                        <img src="{{ post.featured_image.url }}"
                             alt="{{ post.title }}"
                             class="img-fluid"
                             style="max-height: 450px; width: 100%; object-fit: cover; display: block;">
                    </div>
                    {% endif %}

                    <!-- Content Section -->
                    <div class="blog-content" style="padding: 3rem;">
                        {{ post.content|safe }}
                    </div>

                    <!-- Share Section -->
                    <div style="padding: 2rem 3rem; background: #F9FAFB; border-top: 2px solid #E5E7EB;">
                        <div class="d-flex flex-wrap justify-content-between align-items-center gap-3">
                            <div>
                                <strong style="color: #111827; font-size: 1rem; margin-right: 0.75rem;">Paylaş:</strong>
                                <a href="https://twitter.com/intent/tweet?url={{ request.build_absolute_uri }}&text={{ post.title }}"
                                   target="_blank"
                                   class="btn btn-sm ms-2"
                                   style="background: #1DA1F2; color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 500;">
                                    <i class="bi bi-twitter"></i> Twitter
                                </a>
                                <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.build_absolute_uri }}"
                                   target="_blank"
                                   class="btn btn-sm ms-2"
                                   style="background: #1877F2; color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 500;">
                                    <i class="bi bi-facebook"></i> Facebook
                                </a>
                                <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ request.build_absolute_uri }}"
                                   target="_blank"
                                   class="btn btn-sm ms-2"
                                   style="background: #0A66C2; color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 500;">
                                    <i class="bi bi-linkedin"></i> LinkedIn
                                </a>
                            </div>
                            <a href="{% url 'blog:list' %}"
                               class="btn"
                               style="background: white; color: #0066FF; border: 2px solid #0066FF; padding: 0.5rem 1.5rem; border-radius: 0.5rem; font-weight: 600; text-decoration: none;">
                                <i class="bi bi-arrow-left me-1"></i> Tüm Yazılar
                            </a>
                        </div>
                    </div>
                </article>
            </div>
        </div>
    </div>
</div>

<style>
/* Breadcrumb Styling */
.breadcrumb {
    margin-bottom: 0;
}

.breadcrumb-item + .breadcrumb-item::before {
    content: "›";
    color: #9CA3AF;
    font-size: 1.2rem;
}

/* Blog Content */
.blog-content {
    font-size: 1.125rem;
    line-height: 1.9;
    color: #1F2937;
}

.blog-content p {
    margin-bottom: 1.75rem;
    color: #1F2937;
}

.blog-content h2 {
    margin-top: 3rem;
    margin-bottom: 1.25rem;
    font-size: 2rem;
    font-weight: 700;
    color: #111827;
    border-bottom: 3px solid #0066FF;
    padding-bottom: 0.75rem;
}

.blog-content h2:first-child {
    margin-top: 0;
}

.blog-content h3 {
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    font-size: 1.5rem;
    font-weight: 600;
    color: #111827;
}

.blog-content ul, .blog-content ol {
    margin-bottom: 2rem;
    padding-left: 2.5rem;
    color: #1F2937;
}

.blog-content ul {
    list-style-type: disc;
}

.blog-content ol {
    list-style-type: decimal;
}

.blog-content li {
    margin-bottom: 1rem;
    line-height: 1.8;
    color: #1F2937;
}

.blog-content li strong {
    color: #111827;
    font-weight: 700;
}

.blog-content img {
    max-width: 100%;
    height: auto;
    border-radius: 0.75rem;
    margin: 2.5rem 0;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.blog-content blockquote {
    border-left: 5px solid #0066FF;
    background: #F8F9FF;
    padding: 1.5rem 2rem;
    margin: 2.5rem 0;
    font-style: italic;
    color: #4B5563;
    border-radius: 0.75rem;
}

.blog-content strong {
    font-weight: 700;
    color: #111827;
}

.blog-content a {
    color: #0066FF;
    text-decoration: none;
    font-weight: 600;
    border-bottom: 2px solid rgba(0, 102, 255, 0.3);
    transition: all 0.2s;
}

.blog-content a:hover {
    border-bottom-color: #0066FF;
    color: #0052CC;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .blog-content {
        font-size: 1rem;
    }

    .blog-content h2 {
        font-size: 1.75rem;
    }

    .blog-content h3 {
        font-size: 1.35rem;
    }
}
</style>
{% endblock %}
